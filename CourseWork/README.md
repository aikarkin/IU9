# Курсовая работа

## Постановка задачи
Задан файл с описанием структуры молекул (.sdf, .mol2, .pdb, .json и проч.) и конфигурацией решетки (её размеры). Необходимо упаковать максимальное количество молекул в заданный параллелограмм. 


## Структура проекта

* pmols - исходные коды библиотеки с основными структурами необходимыми для упаковки молекул.
* mols_packer - исходные коды консольного приложения, которое принимает в качестве аргументов командной строки параметры решетки(ее размеры, путь к файлу с описанием молекулы, формат выходного файла и проч.)
* mol_visualizer - визуализирует одну молекулу и упаковывает ее в куб с минимальной длиной ребра. Иллюстрируют работу предыдущей программы.
* web_visualizer - папка, которая содержит исходные коды сервера и клиента:
    - server/server.js - сервер написанный на node-js. Принимает запросы от клиента и запускает mols_packer полусенными параметрами  
    - client/gui.html - верстка клиентского приложения
    - client/visualizer.html - верстка программы визуализации данной решетки
    - client/css/* - CSS-стили для gui.html/visualizer.html.
    - js/gui.js - скрипты для отправки HTTP-запросов серверу
    - js/mols_visualizer.js - скрипт для визуализации, которая осуществляется средствами библиотеки three.js

## Сборка проекта

Перед сборкой может потребоваться установка следующих библиотек: OpenGL, GLFW3, GLEW, freeglut3, freeglut3-dev, OpenBabel-2.0, boost.


Для сборки проекта в терминале необходимо прописать следующие команды:

1. Переходим в папку с проектом:

```bash
	$ cd [путь к директории]
```

2. Генерируем Makefile:

```bash
	$ cmake .
```


3. Собираем проект:

```bash
	$ make 
```

Файлы утилит располагаются в bin/. Библиотека располагается в lib/. При необходимости ее можно использовать прописав в параметры сборки путь к библиотеке (lib/libpmols.so) и к ее заголовочным файлам (pmols/include).

4. Для запуска сервера необходимы утилиты npm (v3.10.10) и node-js (v6.9.4). Их можно скачать с официального сайта [NodeJS](https://nodejs.org/) или из командной строки:

```bash
	$ sudo apt-get install node-js
	$ sudo apt-get install npm
```

Проверить установились ли утилиты можно командами:

```bash
	$ node -v
	$ npm -v
```


Для запуска сервера могут понадобиться следующие модули:
    - express
    - path
    - fs


Все зависимости прописаны в package.json, для их установки необходимо выполнить команду:

```bash
    $ npm install
```

## Инструкция по применению

1. Переходим в папку с сервером и заупкаем server.js:

```bash
    $ cd [путь к папке с проектом]/web_visualizer/server
    $ node server.js
```

2. Открываем gui клиента, [путь к папке с проектом]/web_visualizer/gui.html

3. Вводим параметры решетки (длину, ширину, высоту) в окне браузера, выбираем молекулу и наижмаем на кнопку Pack.  

Упакованную решетку можно скачать в форматах json, mol2, pdb, sdf нажав на кнопку download и выбрав соответствующий пункт или открыть ее предварительный просмотр в браузере, для чего необходимы выполнить переход по ссылке Preview.